<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  
  <title>JavaScript and HTML5</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  <meta name="description">
<meta property="og:type" content="website">
<meta property="og:title" content="JavaScript and HTML5">
<meta property="og:url" content="http://imaffett.github.io/index.html">
<meta property="og:site_name" content="JavaScript and HTML5">
<meta property="og:description">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="JavaScript and HTML5">
<meta name="twitter:description">
  
  
    <link rel="icon" href="favicon.png">
  
  
 <link href='//fonts.useso.com/css?family=Open+Sans:400italic,400,600' rel='stylesheet' type='text/css'>
 <link href="//fonts.useso.com/css?family=Source+Code+Pro" rel="stylesheet" type="text/css">


  <link rel="stylesheet" href="/css/style.css" type="text/css">
  <link rel="stylesheet" href="/font-awesome/css/font-awesome.min.css" type="text/css">
  

  

  
</head>
<body>
  <div id="container">
    <header id="header">
  <div id="header-main" class="header-inner">
    <div class="outer">
      <a href="/" id="logo"><i class="logo" style="background-image: url(/css/images/logo.png)"></i><span class="site-title">JavaScript and HTML5</span></a>
      <nav id="main-nav">
        
          <a class="main-nav-link" href="/.">Home</a>
        
          <a class="main-nav-link" href="/archives">Archives</a>
        
          <a class="main-nav-link" href="/categories">Categories</a>
        
          <a class="main-nav-link" href="/tags">Tags</a>
        
          <a class="main-nav-link" href="/about">About</a>
        
      </nav>
      
        <nav id="sub-nav">
          <div class="profile" id="profile-nav">
            <a id="profile-anchor" href="javascript:;"><img class="avatar" src="/css/images/avatar.png"><i class="fa fa-caret-down"></i></a>
          </div>
        </nav>
      
      <div id="search-form-wrap">
        <form action="//google.com/search" method="get" accept-charset="UTF-8" class="search-form"><input type="search" name="q" results="0" class="search-form-input" placeholder="Search"><button type="submit" class="search-form-submit"> </button><input type="hidden" name="sitesearch" value="http://imaffett.github.io"></form>
      </div>
    </div>
  </div>
  <div id="main-nav-mobile" class="header-sub header-inner">
    <table class="menu outer">
      <tr>
        
          <td><a class="main-nav-link" href="/.">Home</a></td>
        
          <td><a class="main-nav-link" href="/archives">Archives</a></td>
        
          <td><a class="main-nav-link" href="/categories">Categories</a></td>
        
          <td><a class="main-nav-link" href="/tags">Tags</a></td>
        
          <td><a class="main-nav-link" href="/about">About</a></td>
        
        <td>
          <form action="//google.com/search" method="get" accept-charset="UTF-8" class="search-form"><input type="search" name="q" results="0" class="search-form-input" placeholder="Search"><input type="hidden" name="sitesearch" value="http://imaffett.github.io"></form>
        </td>
      </tr>
    </table>
  </div>
</header>

    <div class="outer">
      
        <aside id="profile">
  <div class="inner profile-inner">
    <div class="base-info profile-block">
      <img id="avatar" src="/css/images/avatar.png">
      <h2 id="name">Ian Maffett</h2>
      <h3 id="title">undefined</h3>
      <span id="location"><i class="fa fa-map-marker"></i>Lancaster, PA</span>
      <a id="follow" href="https://github.com/imaffett/">FOLLOW</a>
    </div>
    <div class="article-info profile-block">
      <div class="article-info-block">
        2
        <span>posts</span>
      </div>
      <div class="article-info-block">
        0
        <span>tag</span>
      </div>
    </div>
    
    <div class="contact-info profile-block">
      <table class="contact-list">
        <tr>
          
          <td><a href="http://github.com/imaffett" target="_blank" title="github"><i class="fa fa-github"></i></a></td>
          
          <td><a href="http://www.twitter.com/@imaffett" target="_blank" title="twitter"><i class="fa fa-twitter"></i></a></td>
          
        </tr>
      </table>
    </div>
    
    
  </div>
</aside>

      
      <section id="main">
      <article id="post-xde-react-native" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-inner">
    
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2015/09/30/xde-react-native/">XDE and React Native</a>
    </h1>
  

        <div class="article-meta">
          
  <div class="article-date">
    <i class="fa fa-calendar"></i>
    <a href="/2015/09/30/xde-react-native/">
      <time datetime="2015-09-30T22:41:05.000Z" itemprop="datePublished">2015-09-30</time>
    </a>
  </div>


          
        </div>
      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
                
        <h1 id="Overview">Overview</h1><p>Today I’ll do a quick highlight of an impressive tool to help with React Native development.  Created by the group at <a href="http://www.exponentjs.com" target="_blank">Exponent.js</a>, this tool helps you kick the wheels with React Native.  While it is still in early development, what it provides is very promising and can help existing React Native developers.</p>
<h1 id="React_Native">React Native</h1><p>If you are not familiar with React Native, it is a cross platform tool from Facebook to build <em>native</em> apps.  Not hybrid apps, not web apps, but native apps for iOS and Android.  Your UI are native components for the OS with your business logic code running in JavaScript Core.  The main difference between a React.js app and a React Native app is your render function.  You can reuse most of your code between the two platforms.  Visit the <a href="https://facebook.github.io/react-native/" target="_blank">official site</a> to learn more about React Native.</p>
<h2 id="React_Native_gotchas">React Native gotchas</h2><p>You do need a Mac to build iOS apps, along with XCode.  Android support is available on Windows.</p>
<h1 id="Exponent_XDE">Exponent XDE</h1><p>The XDE is a tool from Exponent JS to help you develop React Native applications.  iOS development is supported with plans for adding Android support in the future.  Head on over to <a href="http://exponentjs.com/" target="_blank">exponentjs.com</a> to learn more and download the XDE.  The XDE only supports Mac  with plans to extend support to Windows and Linux.  The XDE has a companion app to run on your iPhone.  This app allows you to develop your React Native app without ever building it.  If your app uses custom modules or extensions, you cannot use the XDE companion app to test your application.</p>
<h2 id="The_tool">The tool</h2><p>The XDE provides a wide array of features to help with your development.  When you create a new project a simple template that showcases some of the features of React Native.  It provides the bare bones files your project needs; it does not include the whole project that React Native gives you when you use the CLI tool.  This allows you to develop your project only editing the JS code.  The XDE is not an “IDE”, but a helper tool for developing your React Native app.  It lets you use any editor you want and piggy backs on the React Native debugging already provided.  The power is the companion app and extra magic the XDE provides.</p>
<h2 id="The_basics">The basics</h2><p>At a low level (not really), the XDE handles most of the overhead for React Native development.  When you open a project it starts the React Packager for your application.  This will serve up the webpack JS code for the Expononet companion application.  You can serve your code via LAN, localhost, or using ngrok which is provided for you.  Ngrok handles any proxy and firewall issues for you.  You use the URL provided in the companion app and it will let you test outside your LAN, regardless of any settings you have.</p>
<p>The project management is extremely lightweight.  They store global settings inside a $HOME/.exponent directory and do not clutter your project with additional files.  Additionally, they will launch the terminal or a code editor of your choice.  If you have Atom installed, it kicks out to that first (or it did for me) regardless of your default.</p>
<h2 id="The_Cloud">The Cloud</h2><p>Exponent also provides a service called exp.host.  This allows you to push your project assets up for anyone to test anywhere.  Each project is stored under your account and accessible with a known URL. Projects pushed up are available in the companion app for testing.  You can also send a link to email or your phone for testing on device.  It will launch the companion app via the exp:// protocol handler.</p>
<h2 id="The_Companion_app">The Companion app</h2><p>This is a key tool to help with development.  You can install it on the iOS simulator or get it from the store for your iPhone.  You can pick a URL to launch inside the app which points to your JavaScript bundle from webpack.  This can be your local machine from the XDE or a hosted document in the exp cloud.  Anyone can install the companion app from the store, which is great when working with remote parties.  You can send them a link to launch and they can run your code without having to build an IPA.</p>
<h3 id="Debugging">Debugging</h3><p>The companion app has debugging enabled by default.  Simply shake your device to bring up the React Native developer menu.  This is an amazing tool for working with React Native.  This feature is available in the companion app from the store; no need to build your own custom version with certificates.  The React Native site goes into great detail about debugging, so head on over to <a href="https://facebook.github.io/react-native/docs/debugging.html" target="_blank">the docs</a> to learn more.</p>
<h2 id="The_Future">The Future</h2><p>The future for the XDE and React Native look great.  The team has a slack channel to interact with users and are looking for feedback.  I’m anticipating their Android release to help speed up development of cross platform applications.  They’ve also stated they may look into cloud build solutions, which puts the XDE and React Native against some other great tools (Phonegap Build/Intel XDK).</p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://imaffett.github.io/2015/09/30/xde-react-native/" data-id="cif7hxhr700010yh1sjs54qft" class="article-share-link">Share</a>
      
      
    </footer>
  </div>
  
</article>



    
      <article id="post-Welcome" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-inner">
    
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2015/09/28/Welcome/">Welcome</a>
    </h1>
  

        <div class="article-meta">
          
  <div class="article-date">
    <i class="fa fa-calendar"></i>
    <a href="/2015/09/28/Welcome/">
      <time datetime="2015-09-28T21:06:50.000Z" itemprop="datePublished">2015-09-28</time>
    </a>
  </div>


          
        </div>
      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
                
        <h1 id="Another_way_to_test_Node-js_CLI_tools">Another way to test Node.js CLI tools</h1><p>I’ve been writing a few CLI tools using Node.js lately.  All of them require asynchronous code at some point in their calls; but some have multiple.  Ideally, I’d expose each function in a module properly and test them, but I wanted to be able to test the end users experience also, where they call the CLI tool and get different results back.  I could mock the HTTP requests, but I need the actual calls to execute.</p>
<h2 id="Let’s_test_this">Let’s test this</h2><p>While chatting to a few friends, I thought why not just spawn off the call and evaluate the response.  The particular tool that I was writing had multiple functions you could execute and calling each one allowed me to test the majority of my code.  I chose to use Chai/Assert for my tests.  Chai allows you to run asynchronous tests by passing in a “done” object into your test.  When you execute that object, it will complete the test for you.  Synchronous calls are tested normally as shown below.</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> cli = <span class="built_in">require</span>(<span class="string">'../src/index'</span>)</span><br><span class="line"></span><br><span class="line">describe(<span class="string">"Object functions"</span>, <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">    it(<span class="string">"should have a run function"</span>, <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">      cli.should.have.property(<span class="string">"run"</span>);</span><br><span class="line">    &#125;);</span><br><span class="line">    it(<span class="string">"should have a help function"</span>,<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">      cli.should.have.property(<span class="string">"help"</span>);</span><br><span class="line">    &#125;);</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>
<h2 id="Spawn_to_the_rescue">Spawn to the rescue</h2><p>Spawn allows us to execute the CLI code, with parameters, and capture the output to evaluate.  This allowed me to closely replicate an end users experience using the CLI tool.  I decided to create a known passing and failing test for each asynchronous operation.  spawn allows us to capture the standard output and standard error from the CLI call.  If there are any errors, we can check to see if the test should pass or fail.</p>
<figure class="highlight lisp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">it<span class="list">(<span class="string">"Should return the banner and commands"</span>,function<span class="list">(<span class="keyword">done</span>)</span>&#123;</span><br><span class="line">      var banner=spawn<span class="list">(<span class="string">"../bin/tool"</span>,[<span class="string">""</span>],&#123;&#125;)</span><span class="comment">;</span></span><br><span class="line">      var buffer=null<span class="comment">;</span></span><br><span class="line">      banner.stdout.on<span class="list">(<span class="string">"data"</span>,function<span class="list">(<span class="keyword">data</span>)</span>&#123;</span><br><span class="line">        buffer+=data<span class="comment">;</span></span><br><span class="line">      &#125;)</span><span class="comment">;</span></span><br><span class="line">      banner.stderr.on<span class="list">(<span class="string">"data"</span>,function<span class="list">(<span class="keyword">err</span>)</span>&#123;</span><br><span class="line">        assert.ok<span class="list">(<span class="keyword">false</span>,<span class="string">"Error "</span>+err)</span><span class="comment">;</span></span><br><span class="line">        done<span class="list">()</span><span class="comment">;</span></span><br><span class="line">      &#125;)</span><span class="comment">;</span></span><br><span class="line">      banner.on<span class="list">(<span class="string">"close"</span>,function<span class="list">()</span>&#123;</span><br><span class="line">        buffer.indexOf<span class="list">(<span class="string">"Tool Title"</span>)</span>.should.not.equal<span class="list">(<span class="keyword">-1</span>)</span><span class="comment">;</span></span><br><span class="line">        done<span class="list">()</span><span class="comment">;</span></span><br><span class="line">      &#125;)</span><span class="comment">;</span></span><br><span class="line">&#125;)</span><span class="comment">;</span></span><br></pre></td></tr></table></figure>
<p>The second parameter of spawn is an array of arguments to pass, allowing me to test each of the calls available.  We buffer the standard output to compare against in the close event.  In our case below, we are only looking for the string “Project Created” to let us know a new project was created.</p>
<figure class="highlight actionscript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">it(<span class="string">"Should return the banner and commands with invalid arguments"</span>,<span class="function"><span class="keyword">function</span><span class="params">(done)</span></span>&#123;</span><br><span class="line">      <span class="keyword">var</span> banner=spawn(<span class="string">"../bin/tool"</span>,[<span class="string">"create"</span>,<span class="string">"foobar"</span>],&#123;&#125;);</span><br><span class="line">      <span class="keyword">var</span> buffer=<span class="literal">null</span>;</span><br><span class="line">      banner.stdout.on(<span class="string">"data"</span>,<span class="function"><span class="keyword">function</span><span class="params">(data)</span></span>&#123;</span><br><span class="line">        buffer+=data;</span><br><span class="line">      &#125;);</span><br><span class="line">      banner.stderr.on(<span class="string">"data"</span>,<span class="function"><span class="keyword">function</span><span class="params">(err)</span></span>&#123;</span><br><span class="line">        assert.ok(<span class="literal">false</span>,<span class="string">"Error "</span>+err);</span><br><span class="line">        done();</span><br><span class="line">      &#125;);</span><br><span class="line">      <span class="comment">//On the close event, we look at the buffer</span></span><br><span class="line">      banner.on(<span class="string">"close"</span>,<span class="function"><span class="keyword">function</span><span class="params">()</span></span>&#123;</span><br><span class="line">        buffer.indexOf(<span class="string">"Project Created"</span>).should.not.equal(-<span class="number">1</span>);</span><br><span class="line">        done();</span><br><span class="line">      &#125;);</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>
<h2 id="Not_the_end_all">Not the end all</h2><p>This is not an end all solution for testing your Node.js code.  This can just be in addition to however your current testing environment is.</p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://imaffett.github.io/2015/09/28/Welcome/" data-id="cif7hxhqb00000yh1ovdzconp" class="article-share-link">Share</a>
      
      
    </footer>
  </div>
  
</article>



    </section>
      
        <aside id="sidebar">
  
    
  <div class="widget-wrap">
    <h3 class="widget-title">recents</h3>
    <div class="widget">
      <ul id="recent-post" class="">
        
          <li>
            
            <div class="item-thumbnail">
              <a href="/2015/09/30/xde-react-native/" class="thumbnail">
  
    <span class="thumbnail-image thumbnail-none"></span>
  
</a>
            </div>
            
            <div class="item-inner">
              <p class="item-category"></p>
              <p class="item-title"><a href="/2015/09/30/xde-react-native/" class="title">XDE and React Native</a></p>
              <p class="item-date"><time datetime="2015-09-30T22:41:05.000Z" itemprop="datePublished">2015-09-30</time></p>
            </div>
          </li>
        
          <li>
            
            <div class="item-thumbnail">
              <a href="/2015/09/28/Welcome/" class="thumbnail">
  
    <span class="thumbnail-image thumbnail-none"></span>
  
</a>
            </div>
            
            <div class="item-inner">
              <p class="item-category"></p>
              <p class="item-title"><a href="/2015/09/28/Welcome/" class="title">Welcome</a></p>
              <p class="item-date"><time datetime="2015-09-28T21:06:50.000Z" itemprop="datePublished">2015-09-28</time></p>
            </div>
          </li>
        
      </ul>
    </div>
  </div>

  
    
  
    
  
    
  
    
  <div class="widget-wrap">
    <h3 class="widget-title">archives</h3>
    <div class="widget">
      <ul class="archive-list"><li class="archive-list-item"><a class="archive-list-link" href="/archives/2015/09/">September 2015</a><span class="archive-list-count">2</span></li></ul>
    </div>
  </div>

  
  <div id="toTop" class="fa fa-chevron-up"></div>
</aside>
      
    </div>
    <footer id="footer">
  
  <div class="outer">
    <div id="footer-info" class="inner">
      &copy; 2015 Ian Maffett<br>
      Powered by <a href="http://hexo.io/" target="_blank">Hexo</a>. Theme by <a href="http://github.com/ppoffice">PPOffice</a>
    </div>
  </div>
</footer>
    



 <script src="//ajax.useso.com/ajax/libs/jquery/2.1.3/jquery.min.js"></script>




  <link rel="stylesheet" href="/fancybox/jquery.fancybox.css" type="text/css">
  <script src="/fancybox/jquery.fancybox.pack.js" type="text/javascript"></script>


<script src="/js/script.js" type="text/javascript"></script>

  </div>
  <script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-68219669-1', 'auto');
  ga('send', 'pageview');

</script>
</body>
</html>